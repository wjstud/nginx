(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8f803bfc"],{"24b7":function(t,n,i){"use strict";i.r(n);var s=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"signin"},[i("header",[i("router-link",{staticClass:"signin-rule",attrs:{to:"/noteSignIn"}},[t._v("签到规则")]),i("div",{staticClass:"accumulate-points"},[i("span",{staticClass:"points"},[t._v(t._s(t.totalData.integral))])]),i("p",{staticClass:"my-point-text"},[t._v("我的积分")])],1),i("div",{staticClass:"signin-box"},[i("ul",{staticClass:"week-box"},t._l(t.signArr,function(n,s){return i("li",{key:s,staticClass:"daily"},[i("div",{staticClass:"daily-num",class:{"signin-yes":1===n.sign,"signin-no":0===n.sign},on:{click:function(n){return t.signNow(1,n,s)}}},[t._v(t._s(s+1)+"\n                ")]),i("div",{staticClass:"got-point"},[t._v(t._s(n.getPoint))])])}),0),i("van-button",{staticClass:"signin-btn",class:{"gray-btn":t.todaySignIn},attrs:{round:"",type:"danger"},on:{click:function(n){return t.signNow(0)}}},[t._v("签 到\n        ")])],1),i("sign-popup",{attrs:{title:t.popData.title,description:t.popData.description,picUrl:t.popData.picUrl,buttonText:t.popData.buttonText,showPopup:t.showPopup},on:{"close-popup":function(n){return t.closePop(n)},"only-close-popup":t.onlyClosePop}})],1)},a=[],o=(i("55dd"),function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showPopup,expression:"showPopup"}],staticClass:"sign-popup-box"},[i("div",{staticClass:"mask",on:{click:t.onlyClose}}),i("div",{staticClass:"signPopup"},[i("h3",{staticClass:"pop-title"},[t._v(t._s(t.title))]),this.title.indexOf("补签提醒")>-1?i("p",{staticClass:"pop-description"},[t._v(t._s(t.description))]):i("p",{staticClass:"pop-description"},[t._v("累计签到 "),i("span",{staticClass:"mark-color"},[t._v(t._s(t.description[0])+"天")]),t._v("，今日获得"),i("span",{staticClass:"mark-color"},[t._v(t._s(t.description[1])+"积分")])]),i("img",{staticClass:"pop-pic",attrs:{src:t.picUrl}}),i("button",{staticClass:"pop-btn",on:{click:t.close}},[t._v(t._s(t.buttonText))])])])])}),e=[],r={name:"signPopup",props:{title:{type:String,required:!0},description:{type:[String,Array],required:!0},picUrl:{type:String,required:!0},showPopup:{type:[Boolean,String],required:!0},buttonText:{type:String,required:!0}},data:function(){return{show:this.showPopup}},methods:{close:function(){this.$emit("close-popup",this.buttonText)},onlyClose:function(){this.$emit("only-close-popup",!1)}}},l=r,p=(i("f1eb"),i("2877")),c=Object(p["a"])(l,o,e,!1,null,"030b7a74",null),u=c.exports,d={name:"signIn",components:{signPopup:u},data:function(){return{totalData:[],dataString:[],signArr:[],signType:0,isVip:0,todaySignIn:!1,showPopup:!1,todayNum:0===(new Date).getDay()?7:(new Date).getDay(),popData:{title:"补签提醒",description:"开启会员，独享补签特权",picUrl:i("9f66"),buttonText:"立即成为会员"}}},mounted:function(){var t=this.$queryParams(location.href);this.getData(t),this.getVipStatus()},created:function(){document.title="签到"},methods:{showAlert:function(){1===this.isVip?this.popData={title:"补签提醒",description:"开启会员，独享补签特权",picUrl:i("9f66"),buttonText:"我知道了"}:this.popData={title:"补签提醒",description:"开启会员，独享补签特权",picUrl:i("9f66"),buttonText:"立即成为会员"}},getData:function(t){var n=this;this.$axios({method:"post",url:"http://hoowe.sweetfans.cn:32288/user/userIntegral/getWeekSignIn",data:this.$qs.stringify({userId:t.userId,token:t.token})}).then(function(t){if(null!==t){if(1e3===t.data.status){n.totalData=t.data.data,n.totalData.userSigninList.length===n.todayNum&&(n.todaySignIn=!0);for(var i=0;i<n.totalData.userSigninList.length;i++){var s=new Date(n.totalData.userSigninList[i].createtime).getDay();n.dataString.push(0===s?7:s),n.dataString.sort()}for(var a=1;a<=7;a++)n.dataString.indexOf(a)>-1?n.signArr.push({getPoint:"+5",sign:1}):a>=n.todayNum?n.signArr.push({getPoint:"+5",sign:2}):n.signArr.push({getPoint:"补签",sign:0});n.dataString.length>0?(n.dataString.length,n.dataString[n.dataString.length-1]):n.todayNum}}else n.$toast(t.data.msg)}).catch(function(t){console.warn(t)})},signNow:function(t,n,s){var a=this,o=this.$queryParams(location.href),e=0;if(1===t){var r=n.target._prevClass;if(-1===r.indexOf("signin-no"))return!1;if(!this.isVip)return this.showPopup=!0,this.showAlert(),!1;e=(new Date).getTime()-864e5*(this.todayNum-s-1)}if(0===t){if(this.todaySignIn)return this.$toast("今日已签到"),!1;e=(new Date).getTime()}this.$axios({method:"post",url:"http://hoowe.sweetfans.cn:32288/user/userIntegral/userSignIn",data:this.$qs.stringify({userid:o.userId,userId:o.userId,signintype:t,signintime:e,token:o.token})}).then(function(t){null!==t&&(1e3===t.data.status?(a.showPopup=!0,void 0!==s?(a.dataString.push(s+1),a.dataString.sort(),a.signArr.splice(1*s,1,{getPoint:"+5",sign:1})):(a.dataString.push(a.todayNum),a.todaySignIn=!0,a.dataString.sort(),a.signArr.splice(a.todayNum-1,1,{getPoint:"+5",sign:1})),a.dataString.length<=2&&(a.totalData.integral+=5),3===a.dataString.length&&(a.totalData.integral+=15),4===a.dataString.length&&(a.totalData.integral+=5),5===a.dataString.length&&(a.totalData.integral+=25),6===a.dataString.length&&(a.totalData.integral+=5),7===a.dataString.length&&(a.totalData.integral+=35),a.popData={title:void 0!==s?"补签成功":"签到成功",description:[a.dataString.length,a.totalData.daySigninIntegral],picUrl:i("854f"),buttonText:"我知道了"}):1001===t.data.status?a.$toast("今日已签到"):a.$toast(t.data.msg))}).catch(function(t){console.warn(t)})},closePop:function(t){t.indexOf("立即成为会员")>-1&&(this.showPopup=!1,window.location.href="sweetfans://signIn"),t.indexOf("我知道了")>-1&&(this.showPopup=!1)},onlyClosePop:function(){this.showPopup=!1},getVipStatus:function(t){var n=this,i=this.$queryParams(location.href);this.$axios({method:"post",url:"http://hoowe.sweetfans.cn:32288/user/user_server/tu-user/getUserById",data:this.$qs.stringify({userId:i.userId,token:i.token})}).then(function(t){null!==t&&(1e3===t.data.status?n.isVip=t.data.data.vipStatus:n.$toast(t.data.msg))}).catch(function(t){console.warn(t)})}}},g=d,f=(i("e6fa"),Object(p["a"])(g,s,a,!1,null,"82d1dc76",null));n["default"]=f.exports},"2f21":function(t,n,i){"use strict";var s=i("79e5");t.exports=function(t,n){return!!t&&s(function(){n?t.call(null,function(){},1):t.call(null)})}},5096:function(t,n,i){},"55dd":function(t,n,i){"use strict";var s=i("5ca1"),a=i("d8e8"),o=i("4bf8"),e=i("79e5"),r=[].sort,l=[1,2,3];s(s.P+s.F*(e(function(){l.sort(void 0)})||!e(function(){l.sort(null)})||!i("2f21")(r)),"Array",{sort:function(t){return void 0===t?r.call(o(this)):r.call(o(this),a(t))}})},"854f":function(t,n,i){t.exports=i.p+"img/qiandaochenggong.350b1189.png"},"9f66":function(t,n){t.exports="data:image/png;base64,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"},e6fa:function(t,n,i){"use strict";var s=i("f363"),a=i.n(s);a.a},f1eb:function(t,n,i){"use strict";var s=i("5096"),a=i.n(s);a.a},f363:function(t,n,i){}}]);
//# sourceMappingURL=chunk-8f803bfc.454c84b4.js.map