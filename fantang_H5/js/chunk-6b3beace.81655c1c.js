(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b3beace","chunk-8daaa538"],{"00ff":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"is-app"},[a("div",{staticClass:"guide"},[t._v("点击右上角，选择在浏览器中打开")]),a("img",{staticClass:"logo",attrs:{src:s("9d64"),alt:""}}),a("div",{staticClass:"download-app",on:{click:t.downloadApp}},[t._v("下载饭糖")])])},i=[],o={name:"isApp",mounted:function(){window.location.href="sweetfans://login",this.systemInfo()},methods:{systemInfo:function(){var t=window.navigator.userAgent.toLowerCase(),e=t.indexOf("android")>-1,s=t.indexOf("iphone os")>-1,a=t.indexOf("mac os x")>-1,i=t.indexOf("windows")>-1,o=t.indexOf("micromessenger")>-1,n=t.indexOf("weibo")>-1,r=t.indexOf("qq/")>-1,c=t.indexOf("qzone/")>-1;e&&(r&&console.log("android > QQ"),o&&console.log("android > weixin"),n&&console.log("android > weibo"),c&&console.log("android > qzone")),s&&(r&&console.log("ios > QQ"),o&&console.log("ios > weixin"),n&&console.log("ios > weibo"),c&&console.log("ios > qzone")),this.isPC()&&(console.log("PC"),a>-1?window.location.href="https://a.app.qq.com/o/simple.jsp?pkgname=com.sweetfans.app":i>-1&&(window.location.href="sweetfans://login",window.location.href="https://apps.apple.com/cn/app/%E9%A5%AD%E7%B3%96/id1135608630"))},isPC:function(){for(var t=window.navigator.userAgent.toLowerCase(),e=["android","iphone","symbianos","windows phone","ipad","ipod"],s=!0,a=0;a<e.length;a++)if(t.indexOf(e[a])>0){s=!1;break}return s},downloadApp:function(){var t=window.navigator.userAgent.toLowerCase(),e=t.indexOf("android")>-1,s=t.indexOf("iphone os")>-1,a=t.indexOf("weibo")>-1;if(e){if(window.location.href="sweetfans://login",a)return!1;setTimeout(function(){window.location.href="https://a.app.qq.com/o/simple.jsp?pkgname=com.sweetfans.app"},10)}else s&&(window.location.href="sweetfans://login",setTimeout(function(){window.location.href="https://apps.apple.com/cn/app/%E9%A5%AD%E7%B3%96/id1135608630"},10))}}},n=o,r=(s("4815"),s("2877")),c=Object(r["a"])(n,a,i,!1,null,"7880103a",null);e["default"]=c.exports},2265:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home-page"},[a("van-popup",{attrs:{position:"bottom",overlay:!0},model:{value:t.showPopup,callback:function(e){t.showPopup=e},expression:"showPopup"}},t._l(t.list,function(e,s){return a("van-cell",{key:s,attrs:{title:e},on:{click:function(s){return t.tipOffs(e)}}})}),1),a("div",{staticClass:"header-box"},[a("div",{staticClass:"blur-bg-box"},[a("div",{staticClass:"blur-bg",style:t.userHeader})]),a("header",[a("div",{staticClass:"swf-header"},[a("img",{staticClass:"header-img",attrs:{src:t.userInfo.headUrl,alt:""}})]),a("div",{staticClass:"swf-nickname"},[t._v(t._s(t.userInfo.account))]),a("ul",{staticClass:"vip-privilege"},[a("li",{staticClass:"iconfont",class:{"icon-xingbie-nan":1===t.userInfo.sex,"icon-xingbie-nv":0===t.userInfo.sex}}),a("li",{directives:[{name:"show",rawName:"v-show",value:1===t.userInfo.vipStatus,expression:"userInfo.vipStatus===1"}],staticClass:"iconfont icon-tianchongxing-"})]),a("div",{staticClass:"swf-button"}),a("p",{staticClass:"specific-sign"},[t._v("个性签名："+t._s(t.userInfo.autograph?t.userInfo.autograph:"这个人很懒，没有个性签名 ~ "))])])]),a("div",{staticClass:"white-box swf-handle"},[a("span",{staticClass:"swf-num"},[a("b",{staticClass:"text-center"},[t._v("关注")]),a("i",[t._v(t._s(t.userInfo.followNum))])]),a("span",{staticClass:"swf-num"},[a("b",{staticClass:"text-center"},[t._v("粉丝")]),a("i",[t._v(t._s(t.userInfo.fansNum))])]),a("span",{staticClass:"swf-num"},[a("b",{staticClass:"text-center"},[t._v("获赞")]),a("i",[t._v(t._s(t.likenum))])])]),a("div",{staticClass:"white-box your-follow-ido",on:{click:t.$isApp}},[a("span",{staticClass:"follow-ido-t"},[t._v("关注爱豆")]),a("div",{staticClass:"three-ido"},t._l(t.threeIdol,function(t,e){return a("img",{key:e,attrs:{src:t.headsurl,alt:t}})}),0),a("div",{staticClass:"arrow-right"})]),a("div",{staticClass:"home-page-tab"},[0===t.userInfo.userType?a("div",[0===t.myMoments.length?a("default-page",{attrs:{"img-url":s("cfc3")}}):t._l(t.myMoments,function(e,s){return[a("div",{key:s,staticClass:"item-sweetfans",on:{click:function(e){return e.stopPropagation(),t.$isApp(e)}}},[a("div",{staticClass:"swf-head-img",style:{background:"url("+e.userHead+")center no-repeat",backgroundSize:"cover"}}),a("div",{staticClass:"sweetfans-top"},[a("div",{staticClass:"swf-nickname"},[t._v(t._s(e.account))]),a("div",{staticClass:"swf-date"},[t._v(t._s(t.$formatTime(new Date(e.createTime))))])]),a("div",{staticClass:"about-sweetfans"},[a("div",{staticClass:"swf-title-text",domProps:{innerHTML:t._s(e.title)}}),1===e.type||0===e.type?a("div",{staticClass:"swf-img-i1"},[t._l(e.url.slice(0,1),function(s,i){return[a("div",{key:i,staticClass:"row-i1",style:{background:"url("+s+")center no-repeat","background-size":"cover"},attrs:{"data-moments-img":e.url.slice(0,1),"data-pic-index":i},on:{click:function(s){s.stopPropagation(),t.viewPicture(i,e.url.slice(0,1))}}})]})],2):2!==e.url.length&&4!==e.url.length||2!==e.type?(3===e.url.length||e.url.length>3)&&2===e.type?a("div",{staticClass:"swf-img-i3"},[t._l(e.url,function(s,i){return[a("div",{key:i,staticClass:"row-i3",style:{background:"url("+s+")center no-repeat","background-size":"cover"},attrs:{"data-moments-img":e.url,"data-pic-index":i},on:{click:function(s){return s.stopPropagation(),t.viewPicture(i,e.url)}}})]})],2):t._e():a("div",{staticClass:"swf-img-i2"},[t._l(e.url,function(s,i){return[a("div",{key:i,staticClass:"row-i2",style:{background:"url("+s+")center no-repeat","background-size":"cover"},attrs:{"data-moments-img":e.url,"data-pic-index":i},on:{click:function(s){return s.stopPropagation(),t.viewPicture(i,e.url)}}})]})],2),3===e.type?a("div",{staticClass:"swf-v-row row-video"},[a("video",{attrs:{controls:"",src:e.url[0]}}),a("div",{staticClass:"load-layer",on:{click:function(t){t.stopPropagation()}}},[a("div",{style:{width:"100%",height:"100%",background:"url("+e.vPosterImg+")center no-repeat",backgroundSize:"cover"}}),a("i",{staticClass:"player-icon icon-preview iconfont icon-bofang",on:{click:function(e){return e.stopPropagation(),t.playVideo(s)}}})])]):t._e(),4===e.type?a("div",{staticClass:"swf-v-row column-video"},[a("video",{attrs:{controls:"",src:e.url[0]}}),a("div",{staticClass:"load-layer",on:{click:function(t){t.stopPropagation()}}},[a("div",{style:{width:"100%",height:"100%",background:"url("+e.vPosterImg+")center no-repeat",backgroundSize:"cover"}}),a("i",{staticClass:"player-icon icon-preview iconfont icon-bofang",on:{click:function(e){return e.stopPropagation(),t.playVideo(s,e)}}})])]):t._e(),7===e.type?a("div",{staticClass:"share-link"},[a("img",{staticClass:"share-img",attrs:{src:e.url[0],alt:""}}),a("div",{staticClass:"share-text"},[t._v(t._s(e.url[1]))])]):t._e()]),e.towntalkTitle?a("div",{staticClass:"swf-mark"},[t._v("#"+t._s(e.towntalkTitle)+"#\n                        ")]):t._e(),e.location?a("div",{staticClass:"swf-address"},[a("div",{staticClass:"iconfont icon-weizhi icon-addr"}),a("div",{staticClass:"addr-text"},[t._v(t._s(e.location[0]+"·"+e.location[1]))])]):t._e(),a("div",{staticClass:"comment-operate"},[a("div",{staticClass:"operate operate-point",on:{click:t.tipOffs}},[t._v("···")]),a("div",{staticClass:"operate operate-like"},[t._v(t._s(e.collectNum))]),a("div",{staticClass:"operate operate-comment"},[t._v(t._s(e.commentNum))]),a("div",{staticClass:"operate operate-trans"},[t._v(t._s(e.forwardingId))])])])]})],2):t._e(),1===t.userInfo.userType?a("van-tabs",{attrs:{sticky:"",color:"#FF2E4D",lineWidth:20,swipeable:""},on:{click:t.changeActive},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("van-tab",{attrs:{title:t.tabName[0]}},[a("div",{staticClass:"tab-content"},[a("div",{staticClass:"moments-box"},[0===t.myMoments.length?a("default-page",{attrs:{"img-url":s("cfc3")}}):t._e(),t._l(t.myMoments,function(e,s){return[a("div",{key:s,staticClass:"item-sweetfans",on:{click:function(e){return e.stopPropagation(),t.$isApp(e)}}},[a("div",{staticClass:"swf-head-img",style:{background:"url("+e.userHead+")center no-repeat",backgroundSize:"cover"}}),a("div",{staticClass:"sweetfans-top"},[a("div",{staticClass:"swf-nickname"},[t._v(t._s(e.account))]),a("div",{staticClass:"swf-date"},[t._v(t._s(t.$formatTime(new Date(e.createTime))))])]),a("div",{staticClass:"about-sweetfans"},[a("div",{staticClass:"swf-title-text",domProps:{innerHTML:t._s(e.title)}}),a("div",{staticClass:"swf-content-text"},[t._v(t._s(e.swfContent))]),1===e.type||0===e.type?a("div",{staticClass:"swf-img-i1"},[t._l(e.url,function(s,i){return[a("div",{key:i,staticClass:"row-i1",style:{background:"url("+s+")center no-repeat","background-size":"cover"},attrs:{"data-moments-img":e.url,"data-pic-index":i},on:{click:function(s){return s.stopPropagation(),t.viewPicture(i,e.url)}}})]})],2):2!==e.url.length&&4!==e.url.length||2!==e.type?(3===e.url.length||e.url.length>3)&&2===e.type?a("div",{staticClass:"swf-img-i3"},[t._l(e.url,function(s,i){return[a("div",{key:i,staticClass:"row-i3",style:{background:"url("+s+")center no-repeat","background-size":"cover"},attrs:{"data-moments-img":e.url,"data-pic-index":i},on:{click:function(s){return s.stopPropagation(),t.viewPicture(i,e.url)}}})]})],2):t._e():a("div",{staticClass:"swf-img-i2"},[t._l(e.url,function(s,i){return[a("div",{key:i,staticClass:"row-i2",style:{background:"url("+s+")center no-repeat","background-size":"cover"},attrs:{"data-moments-img":e.url,"data-pic-index":i},on:{click:function(s){return s.stopPropagation(),t.viewPicture(i,e.url)}}})]})],2),3===e.type?a("div",{staticClass:"swf-v-row row-video"},[a("video",{attrs:{controls:"",src:e.url[0]}}),a("div",{staticClass:"load-layer",on:{click:function(t){t.stopPropagation()}}},[a("div",{style:{width:"100%",height:"100%",background:"url("+e.vPosterImg+")center no-repeat",backgroundSize:"cover"}}),a("i",{staticClass:"player-icon icon-preview iconfont icon-bofang",on:{click:function(e){return e.stopPropagation(),t.playVideo(s)}}})])]):t._e(),4===e.type?a("div",{staticClass:"swf-v-row column-video"},[a("video",{attrs:{controls:"",src:e.url[0]}}),a("div",{staticClass:"load-layer",on:{click:function(t){t.stopPropagation()}}},[a("div",{style:{width:"100%",height:"100%",background:"url("+e.vPosterImg+")center no-repeat",backgroundSize:"cover"}}),a("i",{staticClass:"player-icon icon-preview iconfont icon-bofang",on:{click:function(e){return e.stopPropagation(),t.playVideo(s,e)}}})])]):t._e(),7===e.type?a("div",{staticClass:"share-link"},[a("img",{staticClass:"share-img",attrs:{src:e.url[0],alt:""}}),a("div",{staticClass:"share-text"},[t._v(t._s(e.url[1]))])]):t._e()]),e.towntalkTitle?a("div",{staticClass:"swf-mark"},[t._v("#"+t._s(e.towntalkTitle)+"#\n                                    ")]):t._e(),e.location?a("div",{staticClass:"swf-address"},[a("div",{staticClass:"iconfont icon-weizhi icon-addr"}),a("div",{staticClass:"addr-text"},[t._v(t._s(e.location[0]+"·"+e.location[1]))])]):t._e(),a("div",{staticClass:"comment-operate"},[a("div",{staticClass:"operate operate-point",on:{click:t.tipOffs}},[t._v("···")]),a("div",{staticClass:"operate operate-like"},[t._v(t._s(e.collectNum))]),a("div",{staticClass:"operate operate-comment"},[t._v(t._s(e.commentNum))]),a("div",{staticClass:"operate operate-trans"},[t._v(t._s(e.forwardingId))])])])]})],2)])]),a("van-tab",{attrs:{title:t.tabName[1]}},[a("div",{staticClass:"tab-content"},[a("div",{staticClass:"support-box"},[0===t.support.length?a("default-page",{attrs:{"img-url":s("cfc3")}}):t._l(t.support.list,function(e,s){return a("div",{key:s,staticClass:"swf-upper",on:{click:t.$isApp}},[a("div",{staticClass:"upper-logo-img",style:{background:"url("+e.imgurl+")center no-repeat",backgroundSize:"cover"}}),a("p",{staticClass:"upper-describe"},[t._v(t._s(e.title))]),a("my-progress",{attrs:{progresssVal:Math.round(e.percent)}}),a("div",{staticClass:"progress-text"},[a("span",[t._v(t._s(e.count)+"人支持")]),"number"===typeof e.endtime?a("span",[t._v("截止时间："+t._s(t.$formatTime(new Date(e.endtime))))]):t._e(),"string"===typeof e.endtime?a("span",[t._v(t._s(e.endtime))]):t._e()])],1)})],2)])]),a("van-tab",{attrs:{title:t.tabName[2]}},[a("div",{staticClass:"tab-content"},[a("div",{staticClass:"swf-goods-box"},[0===t.goods.length?a("default-page",{attrs:{"img-url":s("cfc3")}}):t._l(t.goods.list,function(e,s){return a("div",{key:s,staticClass:"swf-goods",on:{click:t.$isApp}},[a("div",{staticClass:"swf-goods-img",style:{background:"url("+e.arrayImgUrl+")center no-repeat",backgroundSize:"cover"}}),a("p",{staticClass:"swf-goods-price"},[t._v("¥ "+t._s(e.price))]),a("p",{staticClass:"swf-goods-describe"},[t._v(t._s(e.title))])])})],2)])])],1):t._e()],1),a("div",{staticClass:"app-see-more",on:{click:function(e){return t.$isApp()}}},[t._v("进入App查看更多")])],1)},i=[],o=s("7618"),n=(s("28a5"),s("c5f6"),s("b970")),r=s("ad18"),c=s("00ff"),l=s("7e29"),d={name:"homePage",components:{myProgress:r["a"],isApp:c["default"],defaultPage:l["a"]},data:function(){return{likenum:0,userInfo:{id:1,userId:1,account:"",headUrl:null,fansNum:0,isConcern:1,sex:1,integral:0,todayIntegral:0,autograph:"",userType:0,followNum:0,userLvl:0,vipStatus:0,teamId:0,userStatus:0,phoneNum:null,birthday:0,weixin:0,weibo:0,qq:0},threeIdol:[],myMoments:[],active:0,showPopup:!1,list:["屏蔽此动态","屏蔽此人","举报","取消"],tabName:["动态","应援","商品"],showAd:!0,picLargeArr:[],largeIndex:Number,support:[],goods:[]}},mounted:function(){var t=this.$queryParams(location.href);this.getUserInfo(t),this.getIdolList(t),this.getMoments(t),this.getLikeNum(t),this.getSupport(t),this.getGoods(t)},computed:{userHeader:function(){return{backgroundSize:"cover",background:"url("+this.userInfo.headUrl+")center no-repeat"}}},created:function(){document.title="个人主页"},methods:{playVideo:function(t,e){for(var s=document.getElementsByClassName("item-sweetfans")[t],a=document.getElementsByTagName("video"),i=0;i<a.length;i++)a[i].pause();var o=s.getElementsByTagName("video")[0];o.readyState>=2&&(o.play(),s.getElementsByClassName("load-layer")[0].classList.add("display"))},getUserInfo:function(t){var e=this;this.$axios({method:"post",url:"http://hoowe.sweetfans.cn:32288/user/user_server/tu-user/getUserById",data:this.$qs.stringify({userId:t.userId,targetUserId:t.targetUserId,token:t.token})}).then(function(t){null!==t&&1e3===t.data.status&&(e.userInfo=t.data.data)}).catch(function(t){console.warn(t)})},getIdolList:function(t){var e=this;this.$axios({method:"post",url:"http://hoowe.sweetfans.cn:32288/user/user_server/singer/getSingerByUserId",data:this.$qs.stringify({userId:t.userId})}).then(function(t){null!==t&&1e3===t.data.status&&(e.threeIdol=t.data.data.slice(0,3))}).catch(function(t){console.warn(t)})},getLikeNum:function(t){var e=this;this.$axios({method:"post",url:"http://hoowe.sweetfans.cn:32288/message/msgServer/msg/getReadByUserId",data:this.$qs.stringify({userId:t.userId,token:t.token})}).then(function(t){null!==t&&1e3===t.data.status&&(e.likenum=t.data.data.likenum)}).catch(function(t){console.warn(t)})},getMoments:function(t){var e=this;this.$axios({method:"post",url:"http://hoowe.sweetfans.cn:32288/riceCircle/dynamic/getDynamicPageByUserId",data:this.$qs.stringify({userId:t.userId,pageNum:0,targetUserId:t.targetUserId})}).then(function(t){if(null!==t&&1e3===t.data.status){e.myMoments=t.data.data;for(var s=0;s<e.myMoments.length;s++){if(e.myMoments[s].notice&&null!==e.myMoments[s][0]&&(null===e.myMoments[s].notice[0]?e.myMoments[s].notice=[]:e.myMoments[s].title=e.$atSomebody(e.myMoments[s].notice,e.myMoments[s].title)),e.myMoments[s].location&&(e.myMoments[s].location=e.myMoments[s].location.split(",")),null===e.myMoments[s].url&&(e.myMoments[s].url=[]),3===e.myMoments[s].type){var a=e.myMoments[s];e.$set(a,"vPosterImg",a.url[0]+"?vframe/jpg/offset/4/h/960")}if(4===e.myMoments[s].type){var i=e.myMoments[s];e.$set(i,"vPosterImg",i.url[0]+"?vframe/jpg/offset/4/h/960")}}}}).catch(function(t){console.warn(t)})},getSupport:function(t){var e=this;this.$axios({method:"post",url:"http://hoowe.sweetfans.cn:32288/support/assistance/singerActivityPageByUserId",data:this.$qs.stringify({userid:t.targetUserId,pageNum:0,pageSize:10})}).then(function(t){if(null!==t){if(1e3!==t.data.status)return!1;e.support=t.data.data;for(var s=0;s<e.support.list.length;s++){if(0===e.support.list[s].moneyneed){var a=e.support.list[s];e.$set(a,"percent",a.integralnow/a.integralneed)}if(0===e.support.list[s].integralneed){var i=e.support.list[s];e.$set(i,"percent",i.moneynow/i.moneyneed)}0===e.support.list[s].endtime&&(e.support.list[s].endtime="长期")}}}).catch(function(t){console.warn(t)})},getGoods:function(t){var e=this;this.$axios({method:"post",url:"http://hoowe.sweetfans.cn:32288/support/GoodsAPI/getGoodsByTeamUserId",data:this.$qs.stringify({addUserId:t.targetUserId,pageNum:1,type:1,pageSize:10})}).then(function(t){null!==t&&1e3===t.data.status&&(e.goods=t.data.data)}).catch(function(t){console.warn(t)})},isShowAd:function(){this.$toast("关闭成功"),this.showAd=!1},changeActive:function(){},viewPicture:function(t,e){this.picLargeArr=e,Object(n["a"])({images:e,startPosition:t})},tipOffs:function(t){this.showPopup=!this.showPopup,"string"===Object(o["a"])(t).toLowerCase()&&this.$toast(t)}}},u=d,p=(s("59a4"),s("2877")),f=Object(p["a"])(u,a,i,!1,null,"ff5e3230",null);e["default"]=f.exports},4815:function(t,e,s){"use strict";var a=s("5d04"),i=s.n(a);i.a},"59a4":function(t,e,s){"use strict";var a=s("b2d0"),i=s.n(a);i.a},"5d04":function(t,e,s){},"9d64":function(t,e,s){t.exports=s.p+"img/logo.b5d4699a.png"},b2d0:function(t,e,s){}}]);
//# sourceMappingURL=chunk-6b3beace.81655c1c.js.map