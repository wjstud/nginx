(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54f9e7e2"],{"0e9c":function(t,s,i){t.exports=i.p+"img/no-goods.0cbe3f0c.png"},"87ee":function(t,s,i){"use strict";var a=i("ec7c"),e=i.n(a);e.a},aa77:function(t,s,i){var a=i("5ca1"),e=i("be13"),n=i("79e5"),r=i("fdef"),o="["+r+"]",c="​",l=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),p=function(t,s,i){var e={},o=n(function(){return!!r[t]()||c[t]()!=c}),l=e[t]=o?s(d):r[t];i&&(e[i]=l),a(a.P+a.F*o,"String",e)},d=p.trim=function(t,s){return t=String(e(t)),1&s&&(t=t.replace(l,"")),2&s&&(t=t.replace(u,"")),t};t.exports=p},ad18:function(t,s,i){"use strict";var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"my-progress"},[i("div",{staticClass:"my-out",style:{width:t.progresssVal+"%"}},[i("div",{staticClass:"my-inner",style:{left:t.progresssVal+"%"}},[i("span",[t._v(t._s(t.progresssVal)+"%")]),i("div",{staticClass:"my-arrow"})])])])},e=[],n=(i("c5f6"),{name:"myProgress",props:{progresssVal:{type:Number,required:!0}},data:function(){return{}}}),r=n,o=(i("87ee"),i("2877")),c=Object(o["a"])(r,a,e,!1,null,"473ecb7b",null);s["a"]=c.exports},c5f6:function(t,s,i){"use strict";var a=i("7726"),e=i("69a8"),n=i("2d95"),r=i("5dbc"),o=i("6a99"),c=i("79e5"),l=i("9093").f,u=i("11e9").f,p=i("86cc").f,d=i("aa77").trim,f="Number",m=a[f],g=m,v=m.prototype,h=n(i("2aeb")(v))==f,_="trim"in String.prototype,y=function(t){var s=o(t,!1);if("string"==typeof s&&s.length>2){s=_?s.trim():d(s,3);var i,a,e,n=s.charCodeAt(0);if(43===n||45===n){if(i=s.charCodeAt(2),88===i||120===i)return NaN}else if(48===n){switch(s.charCodeAt(1)){case 66:case 98:a=2,e=49;break;case 79:case 111:a=8,e=55;break;default:return+s}for(var r,c=s.slice(2),l=0,u=c.length;l<u;l++)if(r=c.charCodeAt(l),r<48||r>e)return NaN;return parseInt(c,a)}}return+s};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(t){var s=arguments.length<1?0:t,i=this;return i instanceof m&&(h?c(function(){v.valueOf.call(i)}):n(i)!=f)?r(new g(y(s)),i,m):y(s)};for(var b,C=i("9e1e")?l(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;C.length>N;N++)e(g,b=C[N])&&!e(m,b)&&p(m,b,u(g,b));m.prototype=v,v.constructor=m,i("2aba")(a,f,m)}},cd9e:function(t,s,i){"use strict";i.r(s);var a=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"detail-presell"},[a("div",[1===t.list.isin?a("div",[a("van-swipe",{staticClass:"swiper",attrs:{autoplay:0,"show-indicators":!1,"indicator-color":"white"}},[a("van-swipe-item",[a("img",{staticClass:"top-img",attrs:{src:t.list.imgurl,alt:""}})])],1),a("div",{staticClass:"presell-title"},[t.list.singername?a("span",{staticClass:"star"},[t._v(t._s(t.list.singername))]):t._e(),a("span",{staticClass:"t"},[t._v(t._s(t.list.title))])]),a("p",{staticClass:"blue-tips"},[t._v("未成年人请在监护人同意下使用平台服务")]),a("p",{staticClass:"support-progress"},[t._v("完成进度："+t._s(t.nowNum.toFixed(2))+" "+t._s(t.supportType)+" / "+t._s(t.aimNum.toFixed(2))+"\n                "+t._s(t.supportType))]),a("div",{staticClass:"van-p"},[a("my-progress",{attrs:{progresssVal:1*t.precent.toFixed(2)}})],1),a("div",{staticClass:"support-time"},[a("span",[t._v(t._s(t.list.activityUserCount)+"人支持")]),"number"===typeof t.list.endtime?a("span",[t._v("截止时间："+t._s(t.$formatTime(new Date(t.list.endtime))))]):t._e(),"string"===typeof t.list.endtime?a("span",[t._v(t._s(t.list.endtime))]):t._e()]),a("div",{staticClass:"follow-sth"},[a("div",{staticClass:"follow-head",style:{background:"url("+t.list.userurl+")center no-repeat","background-size":"cover"}}),a("div",{staticClass:"follow-nickname"},[t._v(t._s(t.list.username))]),a("div",{staticClass:"follow-btn",class:{"gray-font":1===t.list.isconcern},on:{click:t.$isApp}},[t._v("\n                    "+t._s(1===t.list.isconcern?"已关注":"+关注")+"\n                ")]),a("div",{staticClass:"fans-num"},[t._v("粉丝："+t._s(t.list.userfansnum))])]),a("div",{staticClass:"img-box"},t._l(t.list.detailimgurl,function(t){return a("img",{staticClass:"showImg",attrs:{src:t,alt:""}})}),0),a("van-cell",{attrs:{title:"贡献榜","is-link":"",to:{path:"/supportList",query:{id:t.id,type:t.supportType}}}}),a("ul",{staticClass:"contribution-list"},t._l(t.supportList.list,function(s,i){return a("li",{key:i,staticClass:"No"},[a("div",{staticClass:"contribution-No"},[t._v(t._s(i+1))]),a("div",{staticClass:"contribution-info"},[a("img",{staticClass:"contribution-head",attrs:{src:s.userHeadUrl,alt:""}}),a("p",{staticClass:"contribution-name "},[t._v(t._s(s.userName))]),a("div",{staticClass:"contribution-value"},[t._v(t._s(s.contribution.toFixed(2))+t._s(t.supportType))])])])}),0),a("div",{staticClass:"footer-btn"},[a("van-button",{staticClass:"opreate-btn",class:{grayColor:t.changeGray},attrs:{type:"primary",size:"large"},on:{click:t.$isApp}},[t._v(t._s(t.buttonText)+"\n                ")])],1)],1):t._e()]),0===t.list.isin?a("div",[a("img",{staticClass:"default-img",attrs:{src:i("0e9c"),alt:""}})]):t._e()])},e=[],n=(i("28a5"),i("ad18")),r={name:"DetailSupport",components:{"my-progress":n["a"]},data:function(){return{changeGray:!1,buttonText:"立即支持",swiperList:[],id:this.$queryParams(location.href).id,list:[],supportList:[],aimNum:"",nowNum:"",supportType:""}},computed:{precent:function(){return this.nowNum/this.aimNum>1?100:this.nowNum/this.aimNum*100}},created:function(){document.title="应援详情"},mounted:function(){var t=this,s=this.$queryParams(location.href);this.getDetail(s),this.getSupportList(s),setTimeout(function(){t.deadline()},500)},methods:{deadline:function(t){var s=(new Date).getTime();1===this.list.islong||s>this.list.endtime&&(this.buttonText="查看其他应援",this.changeGray=!0)},getDetail:function(t){var s=this;this.$axios({method:"post",url:"http://hoowe.sweetfans.cn:32288/support/assistance/getActivityDetail",data:this.$qs.stringify({id:t.id,currentuserid:t.currentuserid})}).then(function(t){if(1e3!==t.data.status)return!1;null!==t.data.data&&(s.list=t.data.data,s.list.detailimgurl=s.list.detailimgurl.split(","),0===t.data.data.moneyneed&&(s.aimNum=t.data.data.integralneed,s.nowNum=t.data.data.integralnow,s.supportType="积分"),0===t.data.data.integralneed&&(s.aimNum=t.data.data.moneyneed/100,s.nowNum=t.data.data.moneynow/100,s.supportType="元"),0===t.data.data.endtime&&(s.list.endtime="长期"))}).catch(function(t){console.log(t)})},getSupportList:function(t){var s=this;this.$axios({method:"post",url:"http://hoowe.sweetfans.cn:32288/support/assistance/singerActivityContributionListPage",data:this.$qs.stringify({id:t.id,pageNum:1,pageSize:3})}).then(function(t){if(1e3!==t.data.status)return!1;if(null!==t.data.data){s.supportList=t.data.data;for(var i=0;i<s.supportList.list.length;i++)0===s.supportList.list[i].type&&(s.supportList.list[i].contribution=s.supportList.list[i].contribution/100)}}).catch(function(t){console.log(t)})}}},o=r,c=(i("faac"),i("2877")),l=Object(c["a"])(o,a,e,!1,null,"da69e1ae",null);s["default"]=l.exports},ec7c:function(t,s,i){},f2aa:function(t,s,i){},faac:function(t,s,i){"use strict";var a=i("f2aa"),e=i.n(a);e.a},fdef:function(t,s){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-54f9e7e2.c506a928.js.map