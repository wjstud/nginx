{"version":3,"sources":["webpack:///./src/views/feedback/children/SubFeedback.vue?2003","webpack:///./src/views/feedback/children/SubFeedback.vue?8a59","webpack:///src/views/feedback/children/SubFeedback.vue","webpack:///./src/views/feedback/children/SubFeedback.vue?a661","webpack:///./src/views/feedback/children/SubFeedback.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SubFeedback_vue_vue_type_style_index_0_id_e2eb38a2_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SubFeedback_vue_vue_type_style_index_0_id_e2eb38a2_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","label","type","maxLength","placeholder","rows","autosize","model","value","callback","$$v","message","expression","_v","_s","len","_l","item","index","key","style","background","backgroundSize","on","click","$event","deletePic","directives","name","rawName","uploadArr","length","maxLenPic","max-size","maxSize","after-read","onRead","oversize","oversizePic","size","submitAll","staticRenderFns","SubFeedbackvue_type_script_lang_js_","data","isChinese","methods","count","l","file","push","content","i","splice","$toast","mounted","textareabox","document","querySelector","that","addEventListener","children_SubFeedbackvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"uIAAA,IAAAA,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAilBE,EAAG,4CCAplB,IAAAE,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,eAA0B,CAAAF,EAAA,kBAAAA,EAAA,aAAuCE,YAAA,cAAAC,MAAA,CAAiCC,MAAA,GAAAC,KAAA,WAAAC,UAAA,MAAAC,YAAA,oBAAAC,KAAA,IAAAC,SAAA,IAA0GC,MAAA,CAAQC,MAAAf,EAAA,QAAAgB,SAAA,SAAAC,GAA6CjB,EAAAkB,QAAAD,GAAgBE,WAAA,aAAuBf,EAAA,OAAYE,YAAA,aAAwB,CAAAN,EAAAoB,GAAApB,EAAAqB,GAAArB,EAAAsB,SAAA,GAAAlB,EAAA,OAA0CE,YAAA,eAA0B,CAAAF,EAAA,OAAYE,YAAA,QAAmB,CAAAN,EAAAuB,GAAAvB,EAAA,mBAAAwB,EAAAC,GAA8C,OAAArB,EAAA,OAAiBsB,IAAAD,EAAAnB,YAAA,MAAAqB,MAAA,CACxlBC,WAAA,OAAAJ,EAAA,oBACAK,eAAA,UACgB,CAAAzB,EAAA,KAAUE,YAAA,iBAAAwB,GAAA,CAAiCC,MAAA,SAAAC,GAAyB,OAAAhC,EAAAiC,UAAAR,MAA8B,CAAAzB,EAAAoB,GAAA,WAAkBhB,EAAA,gBAAqB8B,WAAA,EAAaC,KAAA,OAAAC,QAAA,SAAArB,MAAAd,KAAAoC,UAAAC,OAAAtC,EAAAuC,UAAApB,WAAA,sCAA0Hb,YAAA,aAAAC,MAAA,CAAkCiC,WAAAxC,EAAAyC,QAAAC,aAAA1C,EAAA2C,QAA+Cb,GAAA,CAAKc,SAAA5C,EAAA6C,cAA4B,CAAAzC,EAAA,YAAiBE,YAAA,OAAAC,MAAA,CAA0B4B,KAAA,WAAe,SAAA/B,EAAA,cAA6BE,YAAA,UAAAC,MAAA,CAA6BuC,KAAA,SAAehB,GAAA,CAAKC,MAAA/B,EAAA+C,YAAuB,CAAA/C,EAAAoB,GAAA,cACjjB4B,EAAA,GCsCAC,EAAA,CACAd,KAAA,cACAe,KAFA,WAGA,OACAhC,QAAA,GACAiC,WAAA,EACA7B,IAAA,UACAe,UAAA,GACAE,UAAA,EACAE,QAAA,SAGAW,QAAA,CAEAC,MAAA,WACA,IAAAC,EAAArD,KAAAiB,QAAAoB,OACArC,KAAAqB,IAAAgC,EAAA,WAAAA,IAIAX,OARA,SAQAY,GACAtD,KAAAoC,UAAAmB,KAAAD,EAAAE,UAGAxB,UAAA,SAAAyB,GACAzD,KAAAoC,UAAAsB,OAAAD,EAAA,IAGAb,YAAA,WACA5C,KAAA2D,OAAA,cAEAb,UAAA,WACA,IAAA9C,KAAAiB,QAEA,OADAjB,KAAA2D,OAAA,WACA,EAEA3D,KAAA2D,OAAA,eAIAC,QAAA,WACA,IAAAC,EAAAC,SAAAC,cAAA,gBACAC,EAAAhE,KACA6D,EAAAI,iBAAA,8BACAD,EAAAd,WAAA,IAEAW,EAAAI,iBAAA,4BACAD,EAAAZ,QACAY,EAAAd,WAAA,IAEAW,EAAAI,iBAAA,mBACAD,EAAAd,WAGAc,EAAAZ,YChGmXc,EAAA,0BCQnXC,EAAgBC,OAAAC,EAAA,KAAAD,CACdF,EACApE,EACAiD,GACF,EACA,KACA,WACA,MAIeuB,EAAA,WAAAH","file":"js/chunk-5b90210e.5f29e560.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubFeedback.vue?vue&type=style&index=0&id=e2eb38a2&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubFeedback.vue?vue&type=style&index=0&id=e2eb38a2&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"subFeedback\"},[_c('van-cell-group',[_c('van-field',{staticClass:\"textareabox\",attrs:{\"label\":\"\",\"type\":\"textarea\",\"maxLength\":\"100\",\"placeholder\":\"请输入您的意见（字数100字以内）\",\"rows\":\"5\",\"autosize\":\"\"},model:{value:(_vm.message),callback:function ($$v) {_vm.message=$$v},expression:\"message\"}}),_c('div',{staticClass:\"real-time\"},[_vm._v(_vm._s(_vm.len))])],1),_c('div',{staticClass:\"picture-box\"},[_c('div',{staticClass:\"wrap\"},[_vm._l((_vm.uploadArr),function(item,index){return _c('div',{key:index,staticClass:\"pic\",style:({\n                    background: 'url('+item+')center no-repeat',\n                    backgroundSize:'cover'\n             })},[_c('i',{staticClass:\"delete-pic-btn\",on:{\"click\":function($event){return _vm.deletePic(index)}}},[_vm._v(\"×\")])])}),_c('van-uploader',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.uploadArr.length < _vm.maxLenPic),expression:\"this.uploadArr.length < maxLenPic\"}],staticClass:\"upload-btn\",attrs:{\"max-size\":_vm.maxSize,\"after-read\":_vm.onRead},on:{\"oversize\":_vm.oversizePic}},[_c('van-icon',{staticClass:\"icon\",attrs:{\"name\":\"plus\"}})],1)],2)]),_c('van-button',{staticClass:\"sub-btn\",attrs:{\"size\":\"large\"},on:{\"click\":_vm.submitAll}},[_vm._v(\"提 交\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"subFeedback\">\r\n        <van-cell-group>\r\n            <van-field\r\n                    class=\"textareabox\"\r\n                    v-model=\"message\"\r\n                    label=\"\"\r\n                    type=\"textarea\"\r\n                    maxLength=\"100\"\r\n                    placeholder=\"请输入您的意见（字数100字以内）\"\r\n                    rows=\"5\"\r\n                    autosize>\r\n            </van-field>\r\n            <div class=\"real-time\">{{len}}</div>\r\n        </van-cell-group>\r\n        <div class=\"picture-box\">\r\n            <div class=\"wrap\">\r\n                <div class=\"pic\" v-for=\"(item,index) in uploadArr\"\r\n                     :key=\"index\"\r\n                     :style=\"{\r\n                        background: 'url('+item+')center no-repeat',\r\n                        backgroundSize:'cover'\r\n                 }\">\r\n                    <i class=\"delete-pic-btn\" @click=\"deletePic(index)\">×</i>\r\n                </div>\r\n                <van-uploader\r\n                        :max-size='maxSize'\r\n                        v-show=\"this.uploadArr.length < maxLenPic\"\r\n                        class=\"upload-btn\"\r\n                        :after-read=\"onRead\"\r\n                        @oversize=\"oversizePic\"\r\n                >\r\n                    <van-icon class=\"icon\" name=\"plus\"/>\r\n                </van-uploader>\r\n            </div>\r\n\r\n        </div>\r\n        <van-button class=\"sub-btn\" size=\"large\" @click=\"submitAll\">提 交</van-button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"subFeedback\",\r\n    data() {\r\n      return {\r\n        message: '',// 输入的内容\r\n        isChinese: false,// 解决composition问题\r\n        len: '0 / 100',// 显示字数统计\r\n        uploadArr: [], // 上传图片的数组\r\n        maxLenPic: 3,  // 已经选择的图片数\r\n        maxSize: 2048000  // 图片限制大小（byte）\r\n      }\r\n    },\r\n    methods: {\r\n      // 计算输入字数\r\n      count: function () {\r\n        let l = this.message.length;\r\n        this.len = l + ' / ' + (100 - l);\r\n      },\r\n\r\n      // 选好图片后\r\n      onRead(file) {\r\n        this.uploadArr.push(file.content);\r\n      },\r\n      // 删除图片\r\n      deletePic: function (i) {\r\n        this.uploadArr.splice(i, 1);\r\n      },\r\n      // 图片太大\r\n      oversizePic: function () {\r\n        this.$toast('请上传2M以下图片');\r\n      },\r\n      submitAll: function () {\r\n        if (!this.message) {\r\n          this.$toast('内容不能为空');\r\n          return false;\r\n        } else {\r\n          this.$toast('提交文字和图片成功');\r\n        }\r\n      }\r\n    },\r\n    mounted: function () {\r\n      let textareabox = document.querySelector('.textareabox');\r\n      let that = this;\r\n      textareabox.addEventListener('compositionstart', function () {\r\n        that.isChinese = true;//开始中文输入，此时如果没有选中中文，则不计数\r\n      });\r\n      textareabox.addEventListener('compositionend', function () {\r\n        that.count();\r\n        that.isChinese = false;//结束中文输入，此时中文已经选中\r\n      });\r\n      textareabox.addEventListener('input', function () {\r\n        if (that.isChinese) {\r\n          // console.log('isChinese');\r\n        } else {\r\n          that.count();\r\n          // console.log('isNoChinese');\r\n        }\r\n      });\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n    .subFeedback {\r\n        height: 100vh;\r\n        width: 100%;\r\n        background: #fff;\r\n    }\r\n\r\n    /deep/ .van-cell__title {\r\n        display: none;\r\n    }\r\n\r\n    .van-cell-group {\r\n        position: relative;\r\n    }\r\n\r\n    .real-time {\r\n        position: absolute;\r\n        right: .2rem;\r\n        bottom: .2rem;\r\n        color: #909090;\r\n    }\r\n\r\n    .picture-box {\r\n        width: 100%;\r\n        padding: .24rem;\r\n        height: auto;\r\n        .wrap {\r\n            display: flex;\r\n            justify-content: flex-start;\r\n            height: 2.28rem;\r\n            .pic {\r\n                flex: 0 0 auto;\r\n                height: 2.28rem;\r\n                width: 2.28rem;\r\n                margin-right: .1rem;\r\n                position: relative;\r\n                .delete-pic-btn {\r\n                    height: .38rem;\r\n                    width: .38rem;\r\n                    line-height: .38rem;\r\n                    font-size: .4rem;\r\n                    text-align: center;\r\n                    color: #fff;\r\n                    position: absolute;\r\n                    right: 0;\r\n                    top: 0;\r\n                    background: rgba(0, 0, 0, .5);\r\n                }\r\n            }\r\n            .upload-btn {\r\n                height: 2.28rem;\r\n                width: 2.28rem;\r\n                .icon {\r\n                    text-align: center;\r\n                    line-height: .8rem;\r\n                    width: .8rem;\r\n                    height: .8rem;\r\n                    font-size: .8rem;\r\n                    margin: .74rem;\r\n                    color: rgb(165, 176, 196);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    .sub-btn {\r\n        width: 90%;\r\n        background: #F50789;\r\n        margin: 1rem auto;\r\n        display: block;\r\n        color: #fff;\r\n    }\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubFeedback.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubFeedback.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SubFeedback.vue?vue&type=template&id=e2eb38a2&scoped=true&\"\nimport script from \"./SubFeedback.vue?vue&type=script&lang=js&\"\nexport * from \"./SubFeedback.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SubFeedback.vue?vue&type=style&index=0&id=e2eb38a2&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e2eb38a2\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}